# 08. 世界観・BGM選択機能

**Status**: TODO
**Priority**: 高
**Depends on**: 07-ai-summary

## 概要

ストーリーの世界観とBGMの選択機能。

## 関連する要件

- 4.2.2 世界観選択（REQUIREMENTS.md）
- 4.2.3 BGM選択（REQUIREMENTS.md）
- 6. 世界観演出（REQUIREMENTS.md）

## Tasks

### 世界観選択
- [ ] 世界観選択UI作成（カード形式）
- [ ] ファンタジー選択肢
- [ ] SF選択肢
- [ ] 学園ドラマ選択肢
- [ ] 選択時のプレビュー/説明表示

### BGM選択
- [ ] BGMファイルの準備（各世界観3曲、計9曲）
- [ ] BGM選択UI作成
- [ ] BGMプレビュー再生機能
- [ ] 音量調整（プレビュー用）

### 世界観別演出（MVPでは最小限）
- [ ] 選択画面の背景/色の変化

### データ
- [ ] BGMマスターデータ作成
- [ ] 世界観マスターデータ作成

## 世界観とBGMの対応

| 世界観       | BGM雰囲気          |
| ------------ | ------------------ |
| ファンタジー | オーケストラ風     |
| SF           | シンセ・エレクトロ |
| 学園ドラマ   | ポップ・青春系     |

## ファイル構成

```
src/
├── app/
│   └── (protected)/
│       └── quest/
│           └── settings/
│               └── [bookId]/
│                   └── page.tsx
├── data/
│   ├── worlds.ts
│   └── bgm.ts
└── public/
    └── audio/
        └── bgm/
            ├── fantasy-01.mp3
            ├── fantasy-02.mp3
            └── ...
```

## 完了条件

- 3つの世界観から選択できる
- 各世界観に対応するBGMから選択できる
- BGMのプレビューが再生できる
