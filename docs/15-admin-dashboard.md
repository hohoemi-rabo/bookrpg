# 15. 管理画面（ダッシュボード）

**Status**: TODO
**Priority**: 中
**Depends on**: 13-payment, 14-feedback

## 概要

運営者向けの管理画面（ダッシュボード）。

## 関連する要件

- 7. 管理画面（REQUIREMENTS.md）

## Tasks

### 認証・アクセス制御
- [ ] 管理者ロールの設定
- [ ] 管理画面へのアクセス制御
- [ ] 管理者専用ログイン

### ユーザー統計
- [ ] 総登録ユーザー数
- [ ] 日別新規登録数
- [ ] アクティブユーザー数（日/週/月）

### 生成統計
- [ ] 総生成数
- [ ] 日別生成数
- [ ] 成功率 / 失敗率
- [ ] 世界観別の生成数

### 売上確認
- [ ] 日別売上
- [ ] 月別売上
- [ ] Stripeダッシュボードへのリンク

### エラーログ
- [ ] 生成失敗ログ一覧
- [ ] エラー詳細表示
- [ ] 再生成トリガーボタン

### ユーザー検索
- [ ] メールアドレスで検索
- [ ] ユーザー詳細表示（生成履歴、購入履歴）
- [ ] 手動返金処理

### API
- [ ] GET /api/admin/stats（統計情報）
- [ ] GET /api/admin/users（ユーザー一覧）
- [ ] GET /api/admin/errors（エラーログ）

## ファイル構成

```
src/app/
└── admin/
    ├── layout.tsx
    ├── page.tsx（ダッシュボード）
    ├── users/
    │   ├── page.tsx
    │   └── [userId]/
    │       └── page.tsx
    ├── stats/
    │   └── page.tsx
    └── errors/
        └── page.tsx
```

## 完了条件

- 管理者のみアクセス可能
- 主要な統計情報が表示される
- ユーザー検索ができる
- エラーログが確認できる
